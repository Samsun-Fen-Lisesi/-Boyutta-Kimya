(function(e){function t(t){for(var a,o,l=t[0],i=t[1],c=t[2],d=0,u=[];d<l.length;d++)o=l[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);g&&g(t);while(u.length)u.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},o={app:0},n={app:0},s=[];function l(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-009e247c":"fdc34a7c","chunk-381cc5e1":"df574d9d","chunk-3dff0885":"96805ceb","chunk-6266736c":"443be90c","chunk-6b9c01b5":"f0fefac1","chunk-7ee21a7d":"3234beef"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-009e247c":1,"chunk-3dff0885":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-009e247c":"287a0e35","chunk-381cc5e1":"31d6cfe0","chunk-3dff0885":"04d2a519","chunk-6266736c":"31d6cfe0","chunk-6b9c01b5":"31d6cfe0","chunk-7ee21a7d":"31d6cfe0"}[e]+".css",n=i.p+a,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=s[l],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===a||d===n))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){c=u[l],d=c.getAttribute("data-href");if(d===a||d===n)return t()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=t,g.onerror=function(t){var a=t&&t.target&&t.target.src||n,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete o[e],g.parentNode.removeChild(g),r(s)},g.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(g)})).then((function(){o[e]=0})));var a=n[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=s);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=l(e);var u=new Error;c=function(t){d.onerror=d.onload=null,clearTimeout(g);var r=n[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,r[1](u)}n[e]=void 0}};var g=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var g=d;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"md:flex flex-col md:flex-row md:min-h-screen w-full h-full"},[e.loggedin&&!e.hideSidebar&&e.display?r("div",{staticClass:"border-r-2 flex flex-col w-full md:w-56 mr-2 text-gray-700 bg-gray-100 dark-mode:text-gray-200 dark-mode:bg-gray-800 flex-shrink-0",attrs:{"x-data":"{ collapsed : false }"}},[r("div",{staticClass:"flex-shrink-0 px-8 py-4 flex flex-row items-center justify-between"},[r("a",{staticClass:"text-lg font-semibold tracking-widest text-gray-900 uppercase rounded-lg dark-mode:text-white focus:outline-none focus:shadow-outline",attrs:{href:"#"}},[e._v("Metis Portal")]),r("button",{staticClass:"rounded-lg md:hidden focus:outline-none focus:shadow-outline",on:{click:e.toggleNavbar}},[r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})])])]),r("nav",{staticClass:"flex-grow md:block px-4 pb-4 md:pb-0 md:overflow-y-auto",class:{block:e.collapsed,hidden:!e.collapsed}},[r("router-link",{staticClass:"bg-transparent dark-mode:bg-transparent block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",attrs:{to:"/calendar","active-class":"bg-gray-200 dark-mode:text-white dark-mode:bg-gray-600"},nativeOn:{click:function(t){return e.selectPage("calendar")}}},[e._v("Calendar")]),"DOCTOR"===e.role||"ADMIN"===e.role?r("router-link",{staticClass:"bg-transparent dark-mode:bg-transparent block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",attrs:{to:"/patients","active-class":"bg-gray-200 dark-mode:text-white dark-mode:bg-gray-600"},nativeOn:{click:function(t){return e.selectPage("patients")}}},[e._v("Patients")]):e._e(),"ADMIN"===e.role?r("router-link",{staticClass:"bg-transparent dark-mode:bg-transparent block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",attrs:{to:"/users","active-class":"bg-gray-200 dark-mode:text-white dark-mode:bg-gray-600"},nativeOn:{click:function(t){return e.selectPage("users")}}},[e._v("Users")]):e._e(),"DOCTOR"===e.role||"ADMIN"===e.role?r("router-link",{staticClass:"bg-transparent dark-mode:bg-transparent block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",attrs:{to:"/disabled","active-class":"bg-gray-200 dark-mode:text-white dark-mode:bg-gray-600"},nativeOn:{click:function(t){return e.selectPage("disabled")}}},[e._v("Disabled")]):e._e(),r("router-link",{staticClass:"bg-transparent dark-mode:bg-transparent block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",attrs:{to:"/profile","active-class":"bg-gray-200 dark-mode:text-white dark-mode:bg-gray-600"},nativeOn:{click:function(t){return e.selectPage("profile")}}},[e._v("Profile")]),"ADMIN"===e.role?r("router-link",{staticClass:"bg-transparent dark-mode:bg-transparent block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",attrs:{to:"/settings","active-class":"bg-gray-200 dark-mode:text-white dark-mode:bg-gray-600"},nativeOn:{click:function(t){return e.selectPage("settings")}}},[e._v("Settings")]):e._e(),r("a",{staticClass:"block px-4 py-2 mt-2 text-sm font-semibold text-gray-900 rounded-lg dark-mode:hover:bg-gray-600 dark-mode:hover:text-white dark-mode:text-gray-200 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:outline-none focus:shadow-outline",on:{click:e.logout}},[e._v("Log Out")])],1)]):e._e(),e.loggedin&&e.display?r("router-view",{staticClass:"flex-1 w-5/6",attrs:{locale:e.locale,loggedin:e.loggedin}}):e._e(),!e.loggedin&&e.display?r("Login"):e._e(),e.display?e._e():r("div",{staticClass:"h-screen w-full flex items-center"},[r("LoadingSpinner",{staticClass:"mx-auto"})],1)],1)},n=[],s=(r("96cf"),r("1da1")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container max-w-full mx-auto py-24"},[r("LoginForm",{on:{loginSuccess:function(t){return e.$parent.setLoginStatus(!0)}}})],1)},i=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"font-sans container max-w-full mx-auto py-24"},[r("div",{staticClass:"max-w-lg mx-auto px-6"},[r("div",{staticClass:"relative flex flex-wrap"},[r("div",{staticClass:"w-full relative"},[r("div",{staticClass:"mt-6"},[r("div",{staticClass:"text-center font-semibold text-black"},[e._v(" Metis Portal ")]),e.loginError?r("p",{staticClass:"flex justify-center inline-block align-middle text-center text-red-500 mt-8 w-auto self-center flex-1"},[r("span",{staticClass:"inline-block align-middle"},[r("svg",{staticClass:"h-6 ",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}})])]),e._v(" "+e._s(e.errorMsg)+" ")]):e._e(),r("div",{staticClass:"mt-8"},[r("div",{staticClass:"mx-auto max-w-lg"},[r("div",{staticClass:"py-2"},[r("span",{staticClass:"px-1 text-sm text-gray-600"},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"text-md block px-3 py-2  rounded-lg w-full \n                bg-white border-2 placeholder-gray-600 shadow-md focus:placeholder-gray-500 focus:bg-white focus:border-gray-600 focus:outline-none",class:{"border-gray-300":e.emailValid,"border-red-500":!e.emailValid},attrs:{placeholder:"",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),r("div",{staticClass:"py-2"},[r("span",{staticClass:"px-1 text-sm text-gray-600"},[e._v("Password")]),r("div",{staticClass:"relative"},["checkbox"===(e.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text-md block px-3 py-2 rounded-lg w-full\n                bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md\n                focus:placeholder-gray-500\n                focus:bg-white \n                focus:border-gray-600  \n                focus:outline-none",attrs:{placeholder:"",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.apiLogin(t)},change:function(t){var r=e.password,a=t.target,o=!!a.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);a.checked?s<0&&(e.password=r.concat([n])):s>-1&&(e.password=r.slice(0,s).concat(r.slice(s+1)))}else e.password=o}}}):"radio"===(e.showPassword?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text-md block px-3 py-2 rounded-lg w-full\n                bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md\n                focus:placeholder-gray-500\n                focus:bg-white \n                focus:border-gray-600  \n                focus:outline-none",attrs:{placeholder:"",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.apiLogin(t)},change:function(t){e.password=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text-md block px-3 py-2 rounded-lg w-full\n                bg-white border-2 border-gray-300 placeholder-gray-600 shadow-md\n                focus:placeholder-gray-500\n                focus:bg-white \n                focus:border-gray-600  \n                focus:outline-none",attrs:{placeholder:"",type:e.showPassword?"text":"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.apiLogin(t)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("div",{staticClass:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",on:{click:function(t){e.showPassword=!e.showPassword}}},[e.showPassword?r("svg",{staticClass:"h-6 text-gray-700",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}}),r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}})]):e._e(),e.showPassword?e._e():r("svg",{staticClass:"h-6 text-gray-700",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}})])])])]),r("div",{staticClass:"flex justify-between"},[r("label",{staticClass:"block text-gray-500 font-bold my-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.rememberme,expression:"rememberme"}],staticClass:"leading-loose text-pink-600",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.rememberme)?e._i(e.rememberme,null)>-1:e.rememberme},on:{change:function(t){var r=e.rememberme,a=t.target,o=!!a.checked;if(Array.isArray(r)){var n=null,s=e._i(r,n);a.checked?s<0&&(e.rememberme=r.concat([n])):s>-1&&(e.rememberme=r.slice(0,s).concat(r.slice(s+1)))}else e.rememberme=o}}}),e._v(" "),r("span",{staticClass:"py-2 text-sm text-gray-600 leading-snug"},[e._v(" Remember Me ")])]),e._v(" "),e._m(0)]),r("button",{staticClass:"mt-3 text-lg font-semibold\n                bg-gray-800 w-full text-white rounded-lg\n                px-6 py-3 block shadow-xl hover:text-white hover:bg-black",on:{click:e.apiLogin}},[e._v(" Login ")])])])])])])])])},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"block text-gray-500 font-bold my-4"},[r("a",{staticClass:"cursor-pointer tracking-tighter text-black border-b-2 border-gray-200 hover:border-gray-400",attrs:{href:"#"}},[r("span",[e._v("Forgot Password?")])])])}],u=r("069b"),g=r("bc3a"),m=r.n(g),p={name:"LoginForm",data:function(){return{email:"",password:"",errorMsg:"",showPassword:!1,loginError:!1,rememberme:!1,emailValid:!0}},methods:{apiLogin:function(){var e=this;Object(u["b"])(this.email)?(this.emailValid=!0,this.loginError=!1,m.a.post("/login",{email:this.email,password:this.password}).then((function(t){var r=new u["a"]("LOCAL");r.setItem("JWT",t.data.token),r.setItem("expiry",t.data.expiry),e.$emit("loginSuccess")})).catch((function(t){t.response?403==t.response.status?e.errorMsg="Wrong username or password":e.errorMsg="Internal server error":e.errorMsg="An unknown error occured",e.loginError=!0}))):this.emailValid=!1}}},f=p,h=r("2877"),b=Object(h["a"])(f,c,d,!1,null,null,null),y=b.exports,v={name:"Login",components:{LoginForm:y}},w=v,k=Object(h["a"])(w,l,i,!1,null,null,null),x=k.exports,C=r("a18c"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-32 w-32 md:h-64 md:w-64"})},P=[],O={name:"LoadingSpinner"},L=O,A=(r("7ce8"),Object(h["a"])(L,_,P,!1,null,"6b4a0c06",null)),E=A.exports,j=a["default"].extend({components:{LoadingSpinner:E,Login:x},data:function(){return{collapsed:!1,selected:"calendar",role:"DOCTOR",hideSidebar:!1,loggedin:!1,token:"",locale:"",display:!1}},methods:{toggleNavbar:function(){this.collapsed=!this.collapsed},selectPage:function(e){this.selected=e},setLoginStatus:function(e){var t=this;this.loggedin=e,e?(C["a"].push("/calendar"),m.a.get("/profile",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("JWT"))}}).then((function(e){return t.locale=e.data.user.locale}))):C["a"].push("/login")},logout:function(){this.loggedin=!1,window.localStorage.removeItem("JWT")}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=window.localStorage,null!=r.getItem("JWT")){t.next=6;break}return e.loggedin=!1,e.display=!0,C["a"].push("/login"),t.abrupt("return");case 6:return t.prev=6,t.next=9,m.a.get("/profile",{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("JWT"))}});case 9:a=t.sent,console.log(a),200==a.data.code?(e.locale=a.data.user.locale,e.loggedin=!0):e.loggedin=!1,t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](6),console.log(t.t0),e.loggedin=!1;case 18:e.token=r.getItem("JWT"),e.display=!0;case 20:case"end":return t.stop()}}),t,null,[[6,14]])})))()}}),M=j,S=Object(h["a"])(M,o,n,!1,null,null,null),N=S.exports,T=(r("c898"),r("6c42"));r("da96");m.a.defaults.baseURL=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_BASE_URL,a["default"].use(T["a"],{}),a["default"].config.performance=!1,a["default"].config.development=!1,a["default"].config.productionTip=!1,new a["default"]({router:C["a"],render:function(e){return e(N)}}).$mount("#app")},"7ce8":function(e,t,r){"use strict";r("f0d4")},a18c:function(e,t,r){"use strict";r("d3b7");var a=r("2b0e"),o=r("8c4f");a["default"].use(o["a"]);var n=[{path:"/calendar",name:"Calendar",component:function(){return Promise.all([r.e("chunk-009e247c"),r.e("chunk-3dff0885")]).then(r.bind(null,"ac0f"))},props:!0},{path:"/patients",name:"Patients",component:function(){return r.e("chunk-7ee21a7d").then(r.bind(null,"2887"))}},{path:"/disabled",name:"Disabled",component:function(){return Promise.all([r.e("chunk-009e247c"),r.e("chunk-381cc5e1")]).then(r.bind(null,"8347"))}},{path:"/profile",name:"Profile",component:function(){return r.e("chunk-6b9c01b5").then(r.bind(null,"c66d"))}},{path:"/oauth/zoom",name:"ZoomOauth",component:function(){return r.e("chunk-6266736c").then(r.bind(null,"54ae"))}},{path:"/",redirect:"/calendar"}],s=new o["a"]({mode:"history",base:"/",routes:n});t["a"]=s},c898:function(e,t,r){},f0d4:function(e,t,r){}});
//# sourceMappingURL=app.056d105a.js.map